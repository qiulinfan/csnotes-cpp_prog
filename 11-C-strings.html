<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Overview - umich-eecs280-lec-notes-ch</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Overview";
        var mkdocs_page_input_path = "11-C-strings.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> umich-eecs280-lec-notes-ch
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">01 Command Line Interface (CLI)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="01-Command-Line%20Interface-%28CLI%29.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#11-mac-os-cli-tools-installation">1.1 Mac OS CLI tools Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#12-windows-subsystem-for-linux-wsl-installation">1.2 Windows Subsystem for Linux (WSL) Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#13-basic-commands">1.3 Basic Commands</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#14-file-directory-path">1.4 File, Directory, Path</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#15-redirection">1.5 Redirection</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#16-useful-tips">1.6 Useful Tips</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="01-Command-Line%20Interface-%28CLI%29.html#17-shell-scripting">1.7 Shell Scripting(脚本)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">02 IDEs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="02-IDEs.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#21-vscode-for-mac-wsllinux">2.1 VScode for Mac &amp; WSL/Linux</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#_1">从该网页下载</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#_2">解压</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#stater-filesworking-directory">把stater-files下所有文件移动到working directory</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#_3">删除下载文件</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#22-xcode-on-mac">2.2 XCode on Mac</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#23-visual-studio-on-windows">2.3 Visual Studio on Windows</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="02-IDEs.html#24-troubleshooting">2.4 Troubleshooting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">03 Compilation (Makefile)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="03-Compilation-%28Makefile%29.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="03-Compilation-%28Makefile%29.html#31-makefile">3.1 MakeFile 语法规则</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="03-Compilation-%28Makefile%29.html#32-variable">3.2 Variable 变量</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="03-Compilation-%28Makefile%29.html#33-example">3.3 Example</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">04 Debuggers</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="04-Debuggers.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#41-debugging-basis">4.1 Debugging Basis</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#42-debug-console">4.2 Debug Console</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#43-address-sanitizer">4.3 Address Sanitizer 地址检查器</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#44-assertions">4.4 Assertions</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#45-command-line-debuggersgbdlldb">4.5 Command-Line Debuggers(gbd,lldb)</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="04-Debuggers.html#46-more-pro-tips-for-debugging">4.6 More Pro Tips for debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">05 Version Control (git)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="05-Version-Control-%28git%29.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#51-github-authentication">5.1 Github Authentication 验证</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#52-create-a-local-repository">5.2 Create a local repository</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#53-remote-repo-connect-local-reop-to-remote">5.3 创建 remote repo 及 connect local reop to remote</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#54-daily-work-flow-with-version-control">5.4 Daily work flow with version control</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#55-version-control-for-a-team">5.5 Version Control For a Team</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="05-Version-Control-%28git%29.html#56">5.6 注意事项</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">06 Text Editors (emacs)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="06-Text-Editors-%28emacs%29.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="06-Text-Editors-%28emacs%29.html#81-installation-and-start-quit">8.1 Installation and Start &amp; Quit</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="06-Text-Editors-%28emacs%29.html#82-customize-key-binding">8.2 Customize Key binding 自定义按键</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="06-Text-Editors-%28emacs%29.html#83-pro-tips">8.3 Pro-tips</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">07 Call Stack Procedural Abstraction and Unit Tests</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="07-Call-Stack-Procedural-Abstraction-and-Unit-Tests.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="07-Call-Stack-Procedural-Abstraction-and-Unit-Tests.html#71-machine-model">7.1 Machine Model 机器模型</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="07-Call-Stack-Procedural-Abstraction-and-Unit-Tests.html#72-function-calls-and-the-call-stack">7.2 Function Calls and the Call Stack</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="07-Call-Stack-Procedural-Abstraction-and-Unit-Tests.html#73-procedural-abstraction">7.3 Procedural Abstraction 过程抽象化</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="07-Call-Stack-Procedural-Abstraction-and-Unit-Tests.html#74-unit-testing">7.4 Unit Testing</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">08 Pointers and Arrays</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="08-Pointers-and-Arrays.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="08-Pointers-and-Arrays.html#81-pointer">8.1 Pointer 指针</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="08-Pointers-and-Arrays.html#82-array">8.2 Array</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="08-Pointers-and-Arrays.html#83-pointer-arithmetic">8.3 Pointer Arithmetic</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">09 const keyword</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="09-const-keyword.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="09-const-keyword.html#91-const-as-type-qualifier">9.1 const as type qualifier</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">10 Compound objects, ADT and Dynamic Allocation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="10-Compound-objects%2C-ADT-and-Dynamic-Allocation.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="10-Compound-objects%2C-ADT-and-Dynamic-Allocation.html#101-struct">10.1 Struct</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="10-Compound-objects%2C-ADT-and-Dynamic-Allocation.html#102-dynamic-allocation">10.2 Dynamic Allocation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">11 C strings</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Overview</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#111-c-style-strings-null-0-char-array">11.1 C-style strings: 就是末尾自动加上 null \0 的 char array</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1111-define-c-style-string">11.1.1 如何 Define 一个 C-style string</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1112-pointer-initial-c-style-string-const">11.1.2 用 pointer 来 initial C-style string: 必须 const</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1113-char-value">11.1.3 char value 的本质</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#112-cout-char-array-decay-char-cout-char-array">11.2 cout 由 char array 名字 decay 形成的 char* 会 cout 整个 char array 而不是首元素地址</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1121-warning-c-string-char">11.2.1 warning: 不要打印并非指向一个 C string 的 char* 型变量</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#113-prefixx-vs-postfixx-increment">11.3 题外话: Prefix(++x) vs. Postfix(x++) Increment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#114-c-style-strings-standard-functions">11.4 C-style strings 的 standard functions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1141-implementation-of-strcpy">11.4.1 Implementation of strcpy</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1142-c-string-c-string">11.4.2 C++ string 和 C string 的相互转换</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1143-strcmpa-b">11.4.3 strcmp(A, B)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#115-command-line-arguments">11.5 Command Line Arguments</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1151-int-mainint-argc-char-argv">11.5.1 int main(int argc, char *argv[]) 的结构</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1151-command-line-arguments-c-string-double">11.5.1 如何把 command line arguments 里面的数字 c-string 转为 double</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1262-caution-when-comparing-elements-of-argv">12.6.2 Caution when comparing elements of argv</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1263">12.6.3 综合使用例</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="" href="11-C-strings.html#111-c-style-strings-null-0-char-array">11.1 C-style strings: 就是末尾自动加上 null \0 的 char array</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="11-C-strings.html#112-cout-char-array-decay-char-cout-char-array">11.2 cout 由 char array 名字 decay 形成的 char* 会 cout 整个 char array 而不是首元素地址</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="11-C-strings.html#113-prefixx-vs-postfixx-increment">11.3 题外话: Prefix(++x) vs. Postfix(x++) Increment</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="11-C-strings.html#114-c-style-strings-standard-functions">11.4 C-style strings 的 standard functions</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="11-C-strings.html#115-command-line-arguments">11.5 Command Line Arguments</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">12 Stream and IO</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="12-Stream-and-IO.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="12-Stream-and-IO.html#121-stdinstdout">12.1 stdin/stdout</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="12-Stream-and-IO.html#122-exit-codes-in-c-programs">12.2 Exit Codes in C++ Programs</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="12-Stream-and-IO.html#123-file-io-with-streams-fstream">12.3 file I/O with streams: fstream</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="12-Stream-and-IO.html#124-stream-inputoutput">12.4 Stream Input/Output</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="12-Stream-and-IO.html#125-stringstreams">12.5 Stringstreams</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">13 ADT in C++</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="13-ADT-in-C%2B%2B.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="13-ADT-in-C%2B%2B.html#131-class-declaration">13.1 Class Declaration</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="13-ADT-in-C%2B%2B.html#132-calling-a-member-function">13.2 Calling a member function</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="13-ADT-in-C%2B%2B.html#133-member-accessibility-visibility">13.3 Member Accessibility (或称 visibility)</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="13-ADT-in-C%2B%2B.html#134-initialization">13.4 Initialization</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">14 Derived Classes and Inheritance</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="14-Derived-Classes-and-Inheritance.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="14-Derived-Classes-and-Inheritance.html#141-derived-classes">14.1 Derived Classes</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="14-Derived-Classes-and-Inheritance.html#142-enums">14.2 Enums</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="14-Derived-Classes-and-Inheritance.html#143-derived-class-constructor">14.3 Derived class constructor</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="14-Derived-Classes-and-Inheritance.html#144-derived-class-override-base-class-member-functions">14.4 在 Derived Class 中 override base class 的 member functions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">15 Polymorphism</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="15-Polymorphism.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="15-Polymorphism.html#151-static-type-dynamic-type">15.1 Static type 和 Dynamic type</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="15-Polymorphism.html#152-abstract-classes">15.2 Abstract Classes</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="15-Polymorphism.html#153-different-derived-classes-ptrref-container">15.3 容纳 different derived classes 的 ptr/ref 的 container</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="15-Polymorphism.html#154-upcasting-downcasting">15.4 Upcasting 和 Downcasting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">16 ContainerADT I</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="16-ContainerADT-I.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="16-ContainerADT-I.html#161-write-a-container-adt-example-set">16.1 Write a container ADT example: set</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="16-ContainerADT-I.html#162-operator-overloading">16.2 Operator overloading</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="16-ContainerADT-I.html#163-template-generic-programming">16.3 Template: generic programming</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="16-ContainerADT-I.html#164">16.4 注意事项</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">17 ContainerADT II</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="17-ContainerADT-II.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="17-ContainerADT-II.html#171-measuring-the-efficiency-of-an-algorithm">17.1 Measuring the efficiency of an algorithm</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="17-ContainerADT-II.html#172-operator-overloading">17.2 Operator Overloading</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="17-ContainerADT-II.html#173-maincpp-using-using">17.3 main.cpp using using</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="17-ContainerADT-II.html#174">17.4 其他事项</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">18 Memory Model and Dynamic Memory</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="18-Memory-Model-and-Dynamic-Memory.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="18-Memory-Model-and-Dynamic-Memory.html#181-globalstatic-localautomatic-and-dynamic-variables">18.1 Global(Static), Local(automatic) and dynamic variables</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="18-Memory-Model-and-Dynamic-Memory.html#182-dynamic-memory">18.2 Dynamic Memory 的使用</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="18-Memory-Model-and-Dynamic-Memory.html#183-program-segments">18.3 Program Segments</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="18-Memory-Model-and-Dynamic-Memory.html#184-dynamic-arrays">18.4 Dynamic arrays</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">19 Managing Dynamic Memory</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="19-Managing-Dynamic-Memory.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="19-Managing-Dynamic-Memory.html#192-function-implementations-dynamic-set">19.2 更改其他 function implementations 以适应 dynamic set</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="19-Managing-Dynamic-Memory.html#193-performance-of-set">19.3 Performance of Set</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="19-Managing-Dynamic-Memory.html#garbage-collection-smart-pointer">题外话: garbage collection 和 smart pointer</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">20 Deep Copies and the Big Three</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="20-Deep-Copies-and-the-Big-Three.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="20-Deep-Copies-and-the-Big-Three.html#201-copy-constructor">20.1 Copy Constructor</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="20-Deep-Copies-and-the-Big-Three.html#202-assignment-operator">20.2 Assignment operator =</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="20-Deep-Copies-and-the-Big-Three.html#203-the-rule-of-the-big-three">20.3 The Rule of The Big Three</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">21 Linked List</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="21-Linked-List.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="21-Linked-List.html#211-sequential-container-adt">21.1 Sequential Container ADT</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="21-Linked-List.html#212-linked-list">21.2 Linked List</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="21-Linked-List.html#213-doubly-linked-list">21.3 Doubly Linked List</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">22 Iterator</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="22-Iterator.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="22-Iterator.html#221-listtypeiterator">22.1 List&lt;type&gt;::Iterator</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="22-Iterator.html#222-iterator-implementations">22.2 Iterator 的 implementations</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="22-Iterator.html#223-check-for-the-big-three-iterator">22.3 check for the Big Three 以及使用 Iterator</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">23 Functors and Imposter Syndrome</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="23-Functors-and-Imposter-Syndrome.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="23-Functors-and-Imposter-Syndrome.html#231-template-typename-iter_type">23.1 template &lt;typename Iter_type&gt;</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="23-Functors-and-Imposter-Syndrome.html#232-function-pointer">23.2 function pointer</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="23-Functors-and-Imposter-Syndrome.html#233-functors-function">23.3 Functors: 模拟 function 的行为</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">24 Recursion</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="24-Recursion.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="24-Recursion.html#241-recursion">24.1 如何写 Recursion</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="24-Recursion.html#242-tail-recursion-constant-space-cost">24.2 Tail Recursion: 获得 Constant Space Cost</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="24-Recursion.html#243-structural-recursion">24.3 Structural Recursion</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">25 BST and Maps</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="25-BST-and-Maps.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="25-BST-and-Maps.html#251-bst-tree-bst">25.1 BST 的定义及如何检测一个 tree 是否是 BST</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="25-BST-and-Maps.html#252-bst-methods">25.2 BST methods</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="25-BST-and-Maps.html#253-set-adt-implemented-with-a-bst">25.3 Set ADT implemented with a BST</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="25-BST-and-Maps.html#254-another-adt-map">25.4 Another ADT: Map</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">280 midterm cheatsheet</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="280-midterm-cheatsheet.html">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#1-array-and-pointer">1. Array and Pointer</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#2-const-keyword">2. const keyword</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#3-struct-c-style-adt">3. struct (C-style-ADT)</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#4-stream-c-string">4. Stream 和 C-string</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#5-class-c-style-adt-and-derived-class">5. class (C++-style-ADT) and derived class</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#6-polymorphism">6. Polymorphism</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="280-midterm-cheatsheet.html#7-container-adt">7. Container ADT</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">umich-eecs280-lec-notes-ch</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">11 C strings</li>
      <li class="breadcrumb-item active">Overview</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="toc">
<ul>
<li><a href="#11-c-style-strings">11 C-style strings</a><ul>
<li><a href="#111-c-style-strings-null-0-char-array">11.1 C-style strings: 就是末尾自动加上 null \0 的 char array</a><ul>
<li><a href="#1111-define-c-style-string">11.1.1 如何 Define 一个 C-style string</a></li>
<li><a href="#1112-pointer-initial-c-style-string-const">11.1.2 用 pointer 来 initial C-style string: 必须 const</a></li>
<li><a href="#1113-char-value">11.1.3 char value 的本质</a></li>
</ul>
</li>
<li><a href="#112-cout-char-array-decay-char-cout-char-array">11.2 cout 由 char array 名字 decay 形成的 char* 会 cout 整个 char array 而不是首元素地址</a><ul>
<li><a href="#1121-warning-c-string-char">11.2.1 warning: 不要打印并非指向一个 C string 的 char* 型变量</a></li>
</ul>
</li>
<li><a href="#113-prefixx-vs-postfixx-increment">11.3 题外话: Prefix(++x) vs. Postfix(x++) Increment</a></li>
<li><a href="#114-c-style-strings-standard-functions">11.4 C-style strings 的 standard functions</a><ul>
<li><a href="#1141-implementation-of-strcpy">11.4.1 Implementation of strcpy</a></li>
<li><a href="#1142-c-string-c-string">11.4.2 C++ string 和 C string 的相互转换</a></li>
<li><a href="#1143-strcmpa-b">11.4.3 strcmp(A, B)</a></li>
</ul>
</li>
<li><a href="#115-command-line-arguments">11.5 Command Line Arguments</a><ul>
<li><a href="#1151-int-mainint-argc-char-argv">11.5.1 int main(int argc, char *argv[]) 的结构</a></li>
<li><a href="#1151-command-line-arguments-c-string-double">11.5.1 如何把 command line arguments 里面的数字 c-string 转为 double</a></li>
<li><a href="#1262-caution-when-comparing-elements-of-argv">12.6.2 Caution when comparing elements of argv</a></li>
<li><a href="#1263">12.6.3 综合使用例</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="11-c-style-strings">11 C-style strings</h1>
<p>当一个 ptr 出了 arrary 的边界时，我们如果 dereference 就做了一个 undefined behavior，read/write random memory.</p>
<p>因而我们需要 keep pointers in their arrays.</p>
<p>如何做到：</p>
<ol>
<li>keep track of the length separately</li>
<li>put a <strong>sentinel value</strong> at the end of the array</li>
</ol>
<h2 id="111-c-style-strings-null-0-char-array">11.1 C-style strings: 就是末尾自动加上 null <code>\0</code> 的 char array</h2>
<p><strong>在 C 中，string 单纯就是一个 char array. 唯一在结构上的特点是，它的末尾被自动加上了一个 null character <code>\0</code>.</strong> </p>
<p><strong>这个 <code>\0</code> character 并不是数字 0 的 char！！它实际上是 null，它的 ASCII value 为 0.</strong></p>
<p>null character 像一个 sentinel，表示 string 在某个地方停止.</p>
<h3 id="1111-define-c-style-string">11.1.1 如何 Define 一个 C-style string</h3>
<p>如果我们使用 C-style string，以下这两个 definition 是等价的：</p>
<pre><code class="language-c++">char str1[6] = {'h', 'e', 'l', 'l', 'o', '\0'};
char str2[6] = &quot;hello&quot;;
</code></pre>
<p>注意，如果我们从 <code>""</code> 形式 initialize，那就是正常的，但是<strong>如果我们从 array 形式 initialize，我们必须在最后一个元素后手动加上 <code>'\0'</code>！</strong>否则我们 stream out 就会乱七八糟。</p>
<pre><code class="language-c++">char arr[3] = {'a', 'b', 'c'}; cout &lt;&lt; arr &lt;&lt; endl;
// abcÇ2?╔╠
</code></pre>
<p>因为直到找到 <code>'\0'</code> 它才会停止找下去。</p>
<p>还有一些八股文：如果当我们在同一个 stack 中连续定义两个 c string，并且在上层的不加 sentinal，那么我们就会 stream out 一个连续的合并 string。。。</p>
<pre><code class="language-c++">char str[3] = {'h', 'i', '\0'};
char arr[3] = {'a', 'b', 'c'}; cout &lt;&lt; arr &lt;&lt; endl;
// abchi
</code></pre>
<p><img src="Assets/Screenshot 2024-02-17 at 10.59.07.png" alt="Screenshot 2024-02-17 at 10.59.07" style="zoom:50%;" /></p>
<h3 id="1112-pointer-initial-c-style-string-const">11.1.2 用 pointer 来 initial C-style string: 必须 <code>const</code></h3>
<p><strong>array 意味着：C-style string 是 immutable 的！它的长度不能改变. 而我们熟悉的 C++-style string 则是可以改变大小的.</strong></p>
<p>我们现在要介绍一个勾时的创造一个 C string 的方式：</p>
<pre><code class="language-c++">const char *ptr = &quot;yay&quot;;
</code></pre>
<p>其实就是</p>
<pre><code class="language-c++">char[] ptr = &quot;yay&quot;;
</code></pre>
<p>但是<strong>这并不是在 stack frame 里面的。</strong>我们是在 <strong>read only segement</strong> 创建了一个没有名字的 C-string 内容为"yay"。但是我们同时定义了一个 pointer to const 叫做 <code>ptr</code>，存储它的首元素地址，那么 <code>ptr</code> 就和数组名有基本相同的作用，相当于模拟了 array 名。我们可以用 <code>ptr[n]</code> 来 slice.</p>
<p>但是通过这个行为我们要强调另外一个事情：</p>
<p>如果我们写</p>
<pre><code class="language-c++">char *ptr = &quot;yay&quot;
</code></pre>
<p>这就不对了，因为我们知道 "yay" 作为一个 array ，首元素地址是 const 的，而我们创建了一个非 pointer to const 的 pointer 指向它。</p>
<h3 id="1113-char-value">11.1.3 char value 的本质</h3>
<p><img src="Assets/Screenshot 2024-02-14 at 18.58.39.png" alt="Screenshot 2024-02-14 at 18.58.39" style="zoom:50%;" /></p>
<h2 id="112-cout-char-array-decay-char-cout-char-array">11.2 <code>cout</code> 由 char array 名字 decay 形成的 <code>char*</code> 会 <code>cout</code> 整个 char array 而不是首元素地址</h2>
<p>我们知道，当我们试图获取 array的名字的值时，它就会 decay 成一个对应类型的 pointer.(返回首元素地址)</p>
<pre><code class="language-c++">char str1[6] = &quot;hello&quot;;
char *strPtr = str1;
</code></pre>
<p><code>StrPtr</code> 于是就指向了 str1 的第一个元素，也就是 <code>'h'</code>.</p>
<p>ex: </p>
<pre><code class="language-c++">char str1[6] = &quot;hello&quot;;
char *strPtr = str1;

char str2[6] = &quot;hello&quot;;
char str3[6] = &quot;apple&quot;;

cout &lt;&lt; (str1 == str2)  // compile 但结果为false, 因为它们都变成了ptr, 这两个值都是地址, 不等

str1 = str3;  // 不 compile, 因为我们尝试获取 str3 的值使其 decay 为一个 ptr, 而左侧是一个 array. Type mismatch.

strPtr = str3;  // 使得 strPtr 重新指向 str3
</code></pre>
<p>所以说我们知道：</p>
<pre><code class="language-c++">int arr[3] = {1, 2, 3};
cout &lt;&lt; arr &lt;&lt; &quot;\n&quot;; // 结果是首元素地址
</code></pre>
<p><strong>但是，char array 却是可以这样打印的. 这并不是什么特例，而是因为 <code>&lt;&lt;</code>, <code>&gt;&gt;</code> 对于 char array 类型在 library 中重写过，使其支持这种行为. char array，也就是 C string，有很多 build-in functions.</strong> </p>
<pre><code class="language-c++">char str[6] = &quot;hello&quot;;
cout &lt;&lt; str &lt;&lt; endl; // 结果是 hello
</code></pre>
<p><strong>这里 <code>str</code> 仍然 decay 成 <code>char*</code> 指针了，并没有什么突变，但是因为 std library 对于 <code>&lt;&lt;</code> 的 overload ，<code>cout</code> 把所有 <code>char*</code> 类型都 treat as C-style strings！！</strong></p>
<p><strong>严谨的意思就是说：ostream 型 (比如<code>cout</code>) 只要遇到<code>&lt;&lt; char *</code> 就会持续 write 从该<code>char *</code> 指向的地址往后，直到碰到第一个 null character 之前的所有东西.</strong> 通过这样的方式来实现打印整个 C-style string.</p>
<h3 id="1121-warning-c-string-char">11.2.1 warning: 不要打印并非指向一个 C string 的 <code>char*</code> 型变量</h3>
<p>然而有一个非常非常逆天的东西，就是这个 overload 不是仅对由 <code>char[]</code> 型 decay 而成的 <code>char *</code> 型变量生效，而是对任何 <code>char *</code> 型变量生效. </p>
<p>也就是说，<strong>如果这单纯是一个<code>char *</code> 型变量，而不是一个 <code>char</code> arrary 的名字，是不能直接用 ostream write 的，否则它就会一直 write 该地址后面的所有东西，直到碰到 null character <code>\0</code> 为止. 那这件事情就很危险了，它会一直 write 下去.</strong></p>
<p>**所以 warning: Don’t try to print a <code>char*</code> not pointing into a C-style string. **</p>
<h2 id="113-prefixx-vs-postfixx-increment">11.3 题外话: Prefix(<code>++x</code>) vs. Postfix(<code>x++</code>) Increment</h2>
<p><code>x += 1</code> 和 <code>++x</code> 是等价的，因为它们都 increment 了 <code>x</code>，并且 expression 的值都是一样的.</p>
<p>而 <code>x += 1</code> 和 <code>x++</code> 却不是等价的，它们都 increment 了 <code>x</code>，但是 expression 的值却不一样.</p>
<pre><code class="language-c++">x = 1;
y = 1;

cout &lt;&lt; x++;  // 1
cout &lt;&lt; ++y;  // 2
</code></pre>
<p><img src="Assets/Screenshot 2024-02-14 at 20.28.10.png" alt="Screenshot 2024-02-14 at 20.28.10" style="zoom:50%;" /></p>
<p>例子：</p>
<pre><code class="language-c++">int x = 10;
// go down to 0 
while (x --&gt; 0) {
  cout &lt;&lt; x &lt;&lt; endl;
}
// 9到0, 包含0, 因为x=1时 x--仍是1, 过了判定, 而这行之后就是0了, 于是打印出了0
</code></pre>
<h2 id="114-c-style-strings-standard-functions">11.4 C-style strings 的 standard functions</h2>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">C-style strings</th>
<th style="text-align: center;">C++-style strings</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Library Header</td>
<td style="text-align: center;"><code>&lt;cstring&gt;</code></td>
<td style="text-align: center;"><code>&lt;string&gt;</code></td>
</tr>
<tr>
<td style="text-align: center;">Declaration</td>
<td style="text-align: center;"><code>char cstr[];</code> 或 <code>char *cstr;</code></td>
<td style="text-align: center;"><code>string str;</code></td>
</tr>
<tr>
<td style="text-align: center;">获取 Length</td>
<td style="text-align: center;"><code>strlen(cstr)</code></td>
<td style="text-align: center;"><code>str.length()</code></td>
</tr>
<tr>
<td style="text-align: center;">Copy value</td>
<td style="text-align: center;"><code>strcpy(cstr1, cstr2)</code></td>
<td style="text-align: center;"><code>str1 = str2</code></td>
</tr>
<tr>
<td style="text-align: center;">Indexing</td>
<td style="text-align: center;"><code>cstr[i]</code></td>
<td style="text-align: center;"><code>str[i]</code></td>
</tr>
<tr>
<td style="text-align: center;">Concatenate</td>
<td style="text-align: center;"><code>strcat(cstr1, cstr2)</code></td>
<td style="text-align: center;"><code>str1 += str2</code></td>
</tr>
<tr>
<td style="text-align: center;">Compare</td>
<td style="text-align: center;"><code>strcmp(cstr1, cstr2)</code></td>
<td style="text-align: center;"><code>str1 == str2</code></td>
</tr>
</tbody>
</table>
<h3 id="1141-implementation-of-strcpy">11.4.1 Implementation of <code>strcpy</code></h3>
<p><code>strcpy</code> 的作用是<strong>把第二个 cstr 的值传给第一个</strong>.</p>
<pre><code class="language-c++">char str1[6] = &quot;hello&quot;;
char str2[6] = &quot;apple&quot;;
strcpy(str1, str2); // str1 的值要变成 &quot;apple&quot;
</code></pre>
<p>我们这样写：</p>
<pre><code class="language-c++">void strcpy(char *dst, const char *src) { // 这是个 ptr-to-const 而不是 const ptr, 可以更改指向的对象, 但是不能用它解引用更改指向对象的值; char * const src 则是 const ptr, 能用它解引用更改指向对象的值, 但是不能更改指向的对象,
    while (*src != '\0') {
    *dst = *src;
    ++src;
    ++dst;
  }
  *dst = *src;  // 最后 copy null char
}
</code></pre>
<p>还有一个极端简短的版本：</p>
<pre><code class="language-c++">void strcpy(char *dst, const char *src) {
    while (*dst++ = *src++) {}
}
</code></pre>
<h3 id="1142-c-string-c-string">11.4.2 C++ string 和 C string 的相互转换</h3>
<ol>
<li>把 C++ string 转成 C string: </li>
</ol>
<p><code>c++
   const char *cstr = str.c_str();</code></p>
<ol>
<li>把 C string 转成 C++ string:</li>
</ol>
<p><code>c++
   string str = string(cstr);</code></p>
<h3 id="1143-strcmpa-b">11.4.3 <code>strcmp(A, B)</code></h3>
<p><code>strcmp(A,B)</code> returns: </p>
<ol>
<li>if A 比 B 小(字母ascii), 返回一个负值表示小多少(一个int)</li>
<li>If A = B, 返回 0</li>
<li>if A 比 B 大(字母ascii), 返回一个正值表示大多少(一个int)</li>
</ol>
<p>返回的是第一个不一样的字母的 ascii 码的大小差距.</p>
<h2 id="115-command-line-arguments">11.5 Command Line Arguments</h2>
<h3 id="1151-int-mainint-argc-char-argv">11.5.1 <code>int main(int argc, char *argv[])</code> 的结构</h3>
<p><code>main()</code> 函数是可以传 parameters 的. 我们可以在 terminal (或者VSCode 的 <code>launch.json</code> 代替 terminal) 给 program 指定 <strong>arguments</strong>.</p>
<pre><code class="language-shell">./redact bee bee.txt out.txt 10
</code></pre>
<p>比如这个 command line. 其中有 5 个 arguments: <code>./redact</code>, <code>bee</code>, <code>bee.txt</code>, <code>out.txt</code>, <code>10</code>.</p>
<p><strong>注意程序名本身也是一个 command line argument.</strong> </p>
<p>为了接收 arguments，我们的 <code>main()</code> 的括号里要写东西:</p>
<pre><code class="language-c++">int main(int argc, char *argv[]) {
    ...
}
</code></pre>
<p>这里的  <code>argc</code> 是一个表示 arguments 的数量的 int ，而 <code>argv</code> 是一个 array，其元素的类型都是 <code>char *</code>.</p>
<p>具体传参数的方式如下：</p>
<p>我们 command line arguments ，除了程序名自身是用来 start program 的，**之后的几个 arguments (一个 arrary) 会被做成一个 array，其每个元素都是一个 c-string，也就是一个 char array. **</p>
<p><strong>这个大 array 里面每个小 char array 的地址，都会传给 <code>main()</code> 的 parameter <code>argv</code></strong>。</p>
<p><strong><code>argv</code> 是一个元素为 <code>char *</code> 的 array 型参数，我们知道函数传进去 array 参数并不是真的 array 而是会彻底变成一个指向首元素的 pointer 。compiler 会把它自动变成 <code>char **argv</code>。</strong></p>
<p>**但是这完全不影响它的作用。<code>argv[]</code> 的值就是第 0 个 argument 这个 c string 的首个 char 的地址。我们可以使用 <code>[]</code> 符号来解引用 <code>*(argv + i)</code>，表示第 i 个 argument  这个 c string 的首个 char 的地址。 **</p>
<p>而我们知道，**所有 stream 对于 <code>char *</code> 型变量，也就是 char 的地址，会直接 in/write 它所表示的 char 以及之后的 char 一直到碰到 <code>\0</code> 为止。所以当我们 <code>cout &lt;&lt; argv[1]</code>的时候， <code>argv[1]</code> 是一个地址，但是我们 cout 的是一整个 argument.  **  </p>
<p>结构如下：</p>
<p><img src="/Users/fanqiulin/Documents/GitHub/23W-EECS-280/Assets/Screen at 17.54.13.png" alt="Screenshot 2024-02-14 at 17.54.13" style="zoom:50%;" /></p>
<p><code>fstream</code> 也一样。</p>
<pre><code class="language-c++">int main(int argc, char *argv[]) {
  if (argc != 5) {
    cout &lt;&lt; &quot;Usage: ./redact WORD INFILE OUTFILE NUM_STARS&quot; &lt;&lt; endl; return 1;
  }

  string wordToRemove = argv[1];

  ifstream fin(argv[2]);
  ofstream fout(argv[3]);
}
</code></pre>
<p>我们通过一个题目来检测一下理解：</p>
<pre><code class="language-c++">// ./program cat dog lobster
int main(int argc, char *argv[]) {
  cout &lt;&lt; argc  // 4
  cout &lt;&lt; argv[1] // cat 
  cout &lt;&lt; *argv[1] // *(argument1的首个char的address) = argument1的首个char = c
  cout &lt;&lt; argv[2] + 1 &lt;&lt; &quot; &quot;; // argument2的首个元素address + 1 = argument2的首个元素address + 1个char大小的address = argument2的次元素address, 经过stream out打印出argument2从次元素开始的部分cstring = og
}
// 4 cat c og
</code></pre>
<h3 id="1151-command-line-arguments-c-string-double">11.5.1 如何把 command line arguments 里面的数字 c-string 转为 double</h3>
<p>我们已经知道了，每个 arguments 是一个 c-string.</p>
<p>实际上我们有些 arguments 的意思是 int, double. 但是在 command line 里只能打出 string.</p>
<p>那么我们怎么把它们转化成 int/double 呢？</p>
<ol>
<li>如果想要转化成 C++-style string:</li>
</ol>
<p><code>&lt;string&gt;</code> 这个 library 里有两个函数: <code>stoi()</code> 和 <code>stod()</code>.</p>
<p>(1) <code>stoi()</code> parses an integer encoded in a string.</p>
<p>(2) <code>stod()</code> parses a double encoded in a string.</p>
<ol>
<li>如果想要转化成 C-style string:</li>
</ol>
<p>需要 <code>#include &lt;cstdlib&gt;</code></p>
<p>对应的是 <code>atoi()</code>, <code>atof()</code></p>
<pre><code class="language-c++">#include &lt;string&gt; // needed for stoi() or stod() using namespace std;
int main(int argc, char *argv[]) {
  // parse string &quot;10&quot; to int 10
  int numStars = stoi(argv[4]);
  // e.g. numStars is 3, makes ***
  string replacement(numStars, '*');
}
</code></pre>
<p>使用例：Add up command line arguments.</p>
<pre><code class="language-shell">./sum 1 2 3 4 5
</code></pre>
<pre><code class="language-c++">int main(int argc, char *argv[]) {
  int sum = 0;
  for (int i = 1; i &lt; argc; ++i) {
    sum += atoi(argv[i]);
  }
  cout &lt;&lt; &quot;sum is &quot; &lt;&lt; sum &lt;&lt; endl;
}
</code></pre>
<h3 id="1262-caution-when-comparing-elements-of-argv">12.6.2 Caution when comparing elements of argv</h3>
<pre><code class="language-c++">int main(int argc, char *argv[]) { 
  // BAD, compares addresses
    if (argv[1] == &quot;--debug&quot;) { ... }

  // OK, wrap one in a std::string
  if (std::string(argv[1]) == &quot;--debug&quot;) { ... }

  // OK, &quot;&quot;s suffix creates a std::string
    if (argv[1] == &quot;--debug&quot;s) { ... } 

  // BAD, compares addresses
  if (argv[1] == argv[2]) { ... }

  // OK, wrap one in a std::string
    if (std::string(argv[1]) == argv[2]) { ... } 
}
</code></pre>
<h3 id="1263">12.6.3 综合使用例</h3>
<pre><code class="language-c++">int main(int argc, char *argv[]) {
  if (argc != 3) {
    cout &lt;&lt; &quot;Usage: redact INFILE OUTFILE&quot; &lt;&lt; endl; return 1; 
  }
    string inName = argv[1]; string outName = argv[2];
    cout &lt;&lt; &quot;Copying from &quot; &lt;&lt; inName &lt;&lt; &quot; to &quot; &lt;&lt; outName &lt;&lt; endl;
    string wordToRemove;
    cout &lt;&lt; &quot;What word would you like to remove? &quot;; cin &gt;&gt; wordToRemove;
  ifstream fin(inName);
  ofstream fout(outName);
  if ( !fin.is_open() || !fout.is_open() ) {
    cout &lt;&lt; &quot;Unable to open one of the files!&quot; &lt;&lt; endl; return 1; 
    }

    string word;
  while (fin &gt;&gt; word) {
        if (word != wordToRemove) { fout &lt;&lt; word &lt;&lt; &quot; &quot;; } 
    }
  fin.close(); fout.close();
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="10-Compound-objects%2C-ADT-and-Dynamic-Allocation.html" class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="12-Stream-and-IO.html" class="btn btn-neutral float-right" title="Overview">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="10-Compound-objects%2C-ADT-and-Dynamic-Allocation.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="12-Stream-and-IO.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
